<p class="title is-2">
  Modifier l'utilisateur
</p>

<%= bulma_form_with(model: resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

    <%= f.email_field :email, autofocus: true, autocomplete: "email" %>

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div>Actuellement en attente de confirmation de: <%= resource.unconfirmed_email %></div>
  <% end %>

<i>(laissez-le vide si vous ne voulez pas le changer)</i>
<%= f.password_field :nouveau_mot_de_passe, autocomplete: "new-password" %>
    <% if @minimum_password_length %>
      <em>Au moins <%= @minimum_password_length %> charactères</em>
    <% end %>

<%= f.password_field :confirmation_de_mot_de_passe, autocomplete: "new-password" %>
<i>(Nous avons besoin de votre mot de passe actuel pour confirmer vos changements)</i>
<%= f.password_field :mot_de_passe_actuel, autocomplete: "current-password" %>
<%= f.submit "Mettre à jour", class:'button is-success mt-3' %>
<% end %>

<p class="title is-5 mt-5 mb-3">Mécontent ? <%= button_to "Supprimer mon compte", registration_path(resource_name), data: { confirm: "Êtes-vous certain(e) ?" }, method: :delete, class:'button is-danger mb-5' %></p>

<%= link_to "Retour", :back %>